#!/bin/bash

# $Header: /u/gcmpack/MITgcm/tools/build_options/darwin_ia32_gfortran,v 1.4 2009/01/06 19:01:32 dfer Exp $
#
# tested on MacBook Pro
# on 28-Nov-2006

CPP='/usr/bin/cpp -traditional -P'
FC=gfortran
###CC=gcc
LINK=gfortran
NOOPTFLAGS='-O0'
EXTENDED_SRC_FLAG='-ffixed-line-length-132'

S64='$(TOOLSDIR)/set64bitConst.sh'
#EH3 MAKEDEPEND='${TOOLSDIR}/xmakedepend'
#EH3 MAKEDEPEND=makedepend
DEFINES='-D_BYTESWAPIO -DWORDLENGTH=4 -DNML_TERMINATOR'
INCLUDEDIRS='/sw/include'
INCLUDES='-I/sw/include'
LIBS='-L/sw/lib'

##INCLUDEDIRS='/Users/heimbach/NetCDF/netcdf-3.6.0-p1/gfortran/include'
##INCLUDES='-I/Users/heimbach/NetCDF/netcdf-3.6.0-p1/gfortran/include'
##LIBS='-L/Users/heimbach/NetCDF/netcdf-3.6.0-p1/gfortran/lib'

###FC_NAMEMANGLE="#define FC_NAMEMANGLE(X) _ ## X ## _"
###FC_NAMEMANGLE="#define FC_NAMEMANGLE(X) X"
###FC_NAMEMANGLE="#define FC_NAMEMANGLE(X) X ## _"

#  For IEEE, use the "-ffloat-store" option
if test "x$IEEE" = x ; then
    FFLAGS='-Wunused -Wuninitialized -fsecond-underscore'
    FOPTIM='-O3 -funroll-loops'
    NOOPTFLAGS='-O2 -funroll-loops'
    NOOPTFILES='gad_c4_adv_x.F gad_u3_adv_x.F'
else
    FFLAGS='-Wunused -ffloat-store -fsecond-underscore'
    FOPTIM='-O0'
fi


